@model Job.ViewModel.ApplyManagementViewModel

@{
    ViewData["Title"] = "配對成功詳細資料";
    var worker = Model.TworkerApplies.FirstOrDefault();
}

<h2><i class="bi bi-check-circle text-success"></i> 配對成功詳細資料</h2>

@if (worker != null)
{
    <div class="card mb-3">
        <h5 class="card-header bg-primary text-white" ">換宿者資料</h5>
        <div class="card-body">
            <p><strong>姓名：</strong> @worker.WorkerName</p>
            <p><strong>申請日期：</strong> @worker.ApplyDate.ToString("yyyy/MM/dd")</p>
            <p><strong>應徵業主：</strong> @worker.ApplyOwner</p>
            <p><strong>應徵職位：</strong> @worker.ApplySituation</p>

            <p>
                <strong>業主回覆：</strong>
                <i class="bi bi-check-circle text-success"></i> 已錄取
            </p>
        </div>
    </div>

    <div class="card">
        <h5 class="card-header bg-success text-white" " >業主資料</h5>
        <div class="card-body">
            

            @if (Model.TownerAdmissions.Any())
            {
                    @foreach (var o in Model.TownerAdmissions)
                    {
                        <p> <strong>業主：</strong>@o.ApplyOwner </p>
                        <p> <strong>業主姓名：</strong>@o.WorkerName</p>
                        <p> <strong>換宿者回覆：</strong><i class="bi bi-check-circle text-success"></i> 已接受 </p>
                }
            }
            else
            {
                <p><i class="bi bi-hourglass-split text-warning"></i> 尚無換宿者回覆</p>
            }
            <p>
                <strong>工作期間：</strong>
                @($"{Model.TownerAdmissions.FirstOrDefault()?.WorkStartDate:yyyy/MM/dd} ~ {Model.TownerAdmissions.FirstOrDefault()?.WorkEndDate:yyyy/MM/dd}")
            </p>
        </div>
    </div>

    <div class="mt-3">
         <a asp-action="MatchingList" class="btn btn-secondary mt-3">
                <i class="bi bi-arrow-left"></i> 回列表
         </a>
    </div>

}
else
{
    <p class="text-danger">找不到配對成功的換宿者資料。</p>
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
